define(["jquery","jstree","alpaca","moment","bootstrap"],function(t,e,o,i,a){return function(t){function e(o){if(i[o])return i[o].exports;var a=i[o]={exports:{},id:o,loaded:!1};return t[o].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var o=window.webpackJsonp;window.webpackJsonp=function(i,n){for(var r,s,c=0,l=[];c<i.length;c++)s=i[c],a[s]&&l.push.apply(l,a[s]),a[s]=0;for(r in n)t[r]=n[r];for(o&&o(i,n);l.length;)l.shift().call(null,e)};var i={},a={0:0};return e.e=function(t,o){if(0===a[t])return o.call(null,e);if(void 0!==a[t])a[t].push(o);else{a[t]=[o];var i=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.async=!0,n.src=e.p+"chunk-"+t+".fenix-ui-metadata-editor.min.js",i.appendChild(n)}},e.m=t,e.c=i,e.p="",e(0)}([function(t,e,o){t.exports=o(1)},function(t,e,o){var i,a;i=[o(2),o(3),o(38)],a=function(t,e){function o(o,i,a){t.extend(!0,c,s,i),this.metaEditor=new e(c),this.metaEditor.render(t(o),c,a)}function i(t){this.metaEditor.set(t)}function a(){return this.metaEditor.get()}function n(){return this.metaEditor.reset()}function r(){return this.metaEditor.destroy()}var s={},c={};return{init:o,set:i,get:a,reset:n,destroy:r}}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(e,o){e.exports=t},function(t,e,o){var i,a;i=[o(2),o(4),o(5),o(6),o(7),o(34),o(35),o(36)],a=function(t,e,i,a,n,r,s,c){function l(e){this.config={},t.extend(!0,this.config,u,e),this.$cnt=null,this.$editor=null,this.currentSection=h,this.uid=null,this.version=null,this.meta={},this.jsForm=null,this.$sections=null,this.secTree=null,this.metaAdapterFactory=new n,this.validator=new r}var p={sections:"#metaE_sections",editor:"#metaE_editor"},u=s.METADATA_PATH||c.METADATA_PATH,d=s.METADATA_SEC||c.METADATA_SEC,y=s.LOCALE||c.LOCALE,f={core:{data:d,animation:0,themes:{}},plugins:["wholerow"]},h=d[0];return l.prototype.render=function(e,o,i){t.extend(!0,this.config,o),this.$cnt=e,this.$cnt.html(a),this.$editor=this.$cnt.find(p.editor),this.$sections=this.$cnt.find(p.sections),this._bindEvents();var n=this,r=this.config.schemaPath+h.id;this.loadJSONSchema(r,i),this.$sections.on("ready.jstree",function(){n.$sections.off("ready.jstree")}),this.secTree=this.$sections.jstree(f)},l.prototype.validateCurrentForm=function(t){if(""==this.currentSection)return!0;var e=this.$editor.alpaca("get");if(e){e.isValid(!0);return e.isValid(!0)}},l.prototype.changeSection=function(t){if(t){this.$editor.alpaca("get").refreshValidationState();var e=!1;if(!this.validateCurrentForm()){var o=confirm("The form is not valid, do you want to change section and lose all the changes in the current one?");if(!o)return this.$sections.jstree(!0).select_node(this.currentSection.id,!0),void this.$sections.jstree(!0).deselect_node(t.id,!0);this.$editor.alpaca("get").clear(),e=!0}""!=this.currentSection&&(this.editorToMeta(e),this.updateValidation(this._uiToMeta(this.meta))),this.$editor.alpaca&&this.$editor.alpaca("destroy"),this.currentSection=t;var i=this.config.schemaPath+t.id;this.loadJSONSchema(i)}},l.prototype.loadJSONSchema=function(t,e){var i=this;o.e(1,function(o){var a=[o(37)(t)];(function(t){t.postRender=function(){e&&e()},t.view={locale:y},t.data=i.getValsToSet(),i.$editor.alpaca(t)}).apply(null,a)})},l.prototype.getValsToSet=function(){if(!this.currentSection)return null;var e=this.meta[this.currentSection.id];return t.isEmptyObject(e)?null:e},l.prototype.editorToMeta=function(t){if(this.currentSection)if(t)this.meta[this.currentSection.id]&&delete this.meta[this.currentSection.id];else{var e=this.$editor.alpaca("get").getValue();this.meta[this.currentSection.id]=e}},l.prototype.destroy=function(){this.$editor.alpaca("destroy"),this.meta={}},l.prototype._bindEvents=function(){var t=this;this.$sections.on("changed.jstree",function(e,o){o&&o.node&&t.changeSection(o.node.original)}),this.$sections.on("loaded.jstree",function(){})},l.prototype._uiToMeta=function(t){var e=this.metaAdapterFactory.uiToMeta(t);return e},l.prototype.set=function(t){t.uid?this.uid=t.uid:this.uid=null,t.version?this.version=t.version:this.version=null,this.currentSection="",this.meta=this.metaAdapterFactory.metaToUi(t),this.changeSection(d[0])},l.prototype.get=function(){this.editorToMeta();var t=this._uiToMeta(this.meta),e=this.updateValidation(t);return e?(this.uid&&(t.uid=this.uid),this.version&&(t.version=this.version),t):null},l.prototype.reset=function(){this.set(null)},l.prototype.updateValidation=function(t){var e=this.validator.validateSection(t,"identification"),o=this.validator.validateSection(t,"contacts"),i=!0;return this.$sections.find(".fx-panel-required").remove(),e&&e.length>0&&(this.nodeError("identification"),i=!1),o&&o.length>0&&(this.nodeError("contacts"),i=!1),i},l.prototype.nodeError=function(t){var e=this.$sections.jstree(!0).get_node(t,!0);e.append('<span class="fx-panel-required" title="Required metadata entity"></span>')},l}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,o){t.exports=e},function(t,e){t.exports=o},function(t,e){t.exports="<div class=row> <div class=col-md-4> <div id=metaE_sections></div> </div> <div class=col-md-8> <div id=metaE_editor></div> </div> </div>"},function(t,e,o){var i,a;i=[o(2),o(22),o(12),o(13),o(14),o(15),o(16),o(17),o(18),o(19),o(20),o(21),o(8),o(23),o(24),o(25),o(26),o(27),o(28),o(29),o(30),o(31),o(32),o(33)],a=function(t,e,o,i,a,n,r,s,c,l,p,u,d,y,f,h,v,m,g,S,M,T,C,D){var _={identification:e,contacts:o,content:i,content_ReferencePopulation:a,content_Coverage:n,institutionalMandate:r,statisticalProcessing_primaryDataCollection:s,statisticalProcessing_secondaryDataCollection:c,statisticalProcessing_dataCompilation:l,statisticalProcessing_dataValidation:p,dataQuality:u,dataQuality_accuracy:d,dataQuality_dataRevision:y,dataQuality_relevance:f,dataQuality_compatibilityCoherence:h,dataQuality_timelinessAndPuctuality:v,accessibility_clarity:m,accessibility_confidentiality:g,accessibility_dataDissemination_distribution:S,accessibility_dataDissemination_releasePolicy:M,maintenance:T,maintenance_metadataMainenance:C,maintenance_update:D},P={eng:"EN",fre:"FR",por:"PT",spa:"ES",ara:"AR"},A=function(e){this.config={},t.extend(!0,this.config,_,e)};return A.prototype.create=function(t){return this.config[t]?new this.config[t]:null},A.prototype.uiToMeta=function(e){if(!e||t.isEmptyObject(e))return{};var o="EN";if(e.identification&&e.identification.language)var o=this.langCode_clistToMeta(e.identification.language);var i={};for(var a in this.config){var n=new this.config[a];if(n.convertUIToMeta){var r=n.convertUIToMeta(e,o);t.extend(!0,i,r)}}return i.meContent||(i.meContent={},i.meContent.resourceRepresentationType||(i.meContent.resourceRepresentationType="dataset")),i},A.prototype.metaToUi=function(e){if(!e||t.isEmptyObject(e))return{};var o="EN";e.language&&e.language.codes&&e.language.codes[0]&&(o=this.langCode_clistToMeta(e.language.codes[0].code));var i={};for(var a in this.config){var n=new this.config[a];if(n.convertMetaToUi){var r=n.convertMetaToUi(e,o);t.extend(!0,i,r)}}return i},A.prototype.langCode_clistToMeta=function(t){return P[t]?P[t]:null},A.prototype.langCode_metaToClist=function(t){for(var e in P)if(P.hasOwnProperty(e)&&P[e]==t)return e;return null},A}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["accuracyNonSampling","accuracySampling"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.dataQuality_accuracy)return null;var o=t.dataQuality_accuracy,i={};return this.copyValsToML(o,i,a,e),{meDataQuality:{seAccuracy:i}}},i.prototype.convertMetaToUi=function(t,e){if(!t||!t.meDataQuality||!t.meDataQuality.seAccuracy)return null;var o=t.meDataQuality.seAccuracy,i={};return this.copyValsFromML(o,i,a,e),{dataQuality_accuracy:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(10),o(11)],a=function(t,e,o){var i=function(t){this.clists=o};return i.prototype.codeToCodelist=function(t,e,o){var i={idCodeList:e,codes:[]};if(o&&(i.version=o),t instanceof Array)for(var a=0;a<t.length;a++)i.codes.push({code:t[a]});else i.codes.push({code:t});return i},i.prototype.codelistToCode=function(t){var e=this.codelistToCodes(t);return e&&e[0]?e[0].code:null},i.prototype.codelistToCodes=function(t){return t&&t.codes?t.codes:null},i.prototype.removePropertyIfEmpty=function(e,o){e[o]&&t.isEmptyObject(e[o])&&delete e[o]},i.prototype.toMLString=function(t,e){var o={};return o[e]=t,o},i.prototype.fromMLString=function(t,e){return t&&t[e]?t[e]:null},i.prototype._toMillis=function(t){if(!t)return null;var o=e(t,"DD/MM/YYYY");return o.valueOf()},i.prototype._fromMillis=function(t){var o=e(t);return o.format("DD/MM/YYYY")},i.prototype.copyDatesFromMeta=function(t,e,o){if(o&&t&&e)for(var i=0;i<o.length;i++)t[o[i]]&&(e[o[i]]=this._fromMillis(t[o[i]]))},i.prototype.copyDatesToMeta=function(t,e,o){if(o&&t&&e)for(var i=0;i<o.length;i++)t[o[i]]&&(e[o[i]]=this._toMillis(t[o[i]]))},i.prototype.copyVals=function(t,e,o){if(o&&t&&e)for(var i=0;i<o.length;i++)t[o[i]]&&(e[o[i]]=t[o[i]])},i.prototype.copyValsToML=function(t,e,o,i){if(o&&t&&e&&i)for(var a=0;a<o.length;a++)t[o[a]]&&(e[o[a]]=this.toMLString(t[o[a]],i))},i.prototype.copyValsFromML=function(t,e,o,i){if(o&&t&&e&&i)for(var a=0;a<o.length;a++)t[o[a]]&&(e[o[a]]=this.fromMLString(t[o[a]],i))},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e){t.exports=i},function(t,e,o){var i,a;i=[],a=function(){"use strict";return{language:{id:"ISO639-2",v:"1998"},charset:{id:"IANAcharacterSet",v:null},gaul0:{id:"GAUL0",v:"2014"},faostatCollection:{id:"FAOSTAT_Collection",v:"1.0"},faoPeriod:{id:"FAO_Period",v:"1.0"},faoStatOriginData:{id:"FAOSTAT_OriginData",v:"1.0"},clAdjustment:{id:"CL_ADJUSTMENT",v:"1.1"},confidentialityStatus:{id:"CL_CONF_STATUS",v:"1.0"},gaulReferenceArea:{id:"GAUL_ReferenceArea",v:"1.0"},unecaClassificationActivities:{id:"UNECA_ClassificationOfActivities",v:"1.0"}}}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["pointOfContact","role"],n=["organization","organizationUnit","position","specify"],r=["phone","address","emailAddress"],s=["hoursOfService","contactInstruction"];return i.prototype.convertUIToMeta=function(e,o){if(!e)return null;if(!e.contacts)return null;var i=e.contacts,c={};return this.copyVals(i,c,a),this.copyValsToML(i,c,n,o),i.contactInfo&&!t.isEmptyObject(i.contactInfo)&&(c.contactInfo={},this.copyVals(i.contactInfo,c.contactInfo,r),this.copyValsToML(i.contactInfo,c.contactInfo,s,o)),{contacts:[c]}},i.prototype.convertMetaToUi=function(t,e){if(!t.contacts||!t.contacts[0])return null;var o=t.contacts[0],i={};return this.copyVals(o,i,a),this.copyValsFromML(o,i,n,e),o.contactInfo&&(i.contactInfo={},this.copyVals(o.contactInfo,i.contactInfo,r),this.copyValsFromML(o.contactInfo,i.contactInfo,s,e)),{contacts:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["resourceRepresentationType"],n=["description","statisticalConceptsDefinitions"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;var o=t.content,i={};if(i.resourceRepresentationType="dataset",o){if(o.keywords&&o.keywords.length>0){i.keywords=[];for(var r=0;r<o.keywords.length;r++)i.keywords.push(o.keywords[r])}this.copyVals(o,i,a),this.copyValsToML(o,i,n,e)}return{meContent:i}},i.prototype.convertMetaToUi=function(t,e){if(!t||!t.meContent)return null;var o=t.meContent,i={};if(o.keywords&&o.keywords.length>0){i.keywords=[];for(var r=0;r<o.keywords.length;r++)i.keywords.push(o.keywords[r])}return this.copyVals(o,i,a),this.copyValsFromML(o,i,n,e),{content:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["statisticalPopulation","statisticalUnit"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.content_ReferencePopulation)return null;var o=t.content_ReferencePopulation,i={};return i.referencePeriod=this.codeToCodelist(o.referencePeriod,this.clists.faoPeriod.id,this.clists.faoPeriod.v),i.referenceArea=this.codeToCodelist(o.referenceArea,this.clists.gaulReferenceArea.id,this.clists.gaulReferenceArea.v),this.copyValsToML(o,i,a,e),{meContent:{seReferencePopulation:i}}},i.prototype.convertMetaToUi=function(t,e){if(!t||!t.meContent||!t.meContent.seReferencePopulation)return null;var o=t.meContent.seReferencePopulation,i={};return i.referencePeriod=this.codelistToCode(o.referencePeriod),i.referenceArea=this.codelistToCode(o.referenceArea),this.copyValsFromML(o,i,a,e),{content_ReferencePopulation:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=[],n=["coverageSectorsDetails"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.content_Coverage)return null;var o=t.content_Coverage,i={};if(o.prodStats||o.foodStats||o.tradeStats||o.machStats||o.popStats||o.priceStats||o.valStats||o.landStats||o.empStats||o.waterStats||o.liveStats||o.natStats||o.fishStats){var r=null;o.prodStats&&(r=o.prodStats),o.foodStats&&(r=o.foodStats),o.tradeStats&&(r=o.tradeStats),o.machStats&&(r=o.machStats),o.popStats&&(r=o.popStats),o.priceStats&&(r=o.priceStats),o.valStats&&(r=o.valStats),o.landStats&&(r=o.landStats),o.empStats&&(r=o.empStats),o.waterStats&&(r=o.waterStats),o.liveStats&&(r=o.liveStats),o.natStats&&(r=o.natStats),o.fishStats&&(r=o.fishStats),i.coverageSectors={},i.coverageSectors.codes=[],i.coverageSectors.idCodeList="CountrySTAT_Indicators";var s={code:r};i.coverageSectors.codes.push(s)}else{var r=null;if("Production"==o.sector&&(r="01"),"Food availability"==o.sector&&(r="02"),"Trade"==o.sector&&(r="03"),"Machinery"==o.sector&&(r="04"),"Population"==o.sector&&(r="05"),"Prices"==o.sector&&(r="06"),"Value added"==o.sector&&(r="07"),"Land use"==o.sector&&(r="08"),"Employment"==o.sector&&(r="09"),"Water"==o.sector&&(r="10"),"Livestock"==o.sector&&(r="11"),"National account"==o.sector&&(r="12"),"Fishery"==o.sector&&(r="13"),null!=r){i.coverageSectors={},i.coverageSectors.codes=[],i.coverageSectors.idCodeList="CountrySTAT_Indicators";var s={code:r};i.coverageSectors.codes.push(s)}}return o.coverageTime&&(i.coverageTime={},this.copyDatesToMeta(o.coverageTime,i.coverageTime,["from","to"])),o.coverageGeographic&&(i.coverageGeographic=this.codeToCodelist(o.coverageGeographic,this.clists.gaul0.id,this.clists.gaul0.v)),this.copyVals(o,i,a),this.copyValsToML(o,i,n,e),{meContent:{seCoverage:i}}},i.prototype.convertMetaToUi=function(t,e){if(!t||!t.meContent||!t.meContent.seCoverage)return null;var o=t.meContent.seCoverage,i={},r=o.coverageSectors;if(r&&r.codes&&r.codes.length>0&&r.codes[0].code){i.coverageSectors={};var s=r.codes[0].code.substring(0,2);"01"==s&&(i.prodStats=r.codes[0].code,i.sector="Production",r.codes[0].code.length<3&&(i.prodStats="")),"02"==s&&(i.foodStats=r.codes[0].code,i.sector="Food availability",r.codes[0].code.length<3&&(i.foodStats="")),"03"==s&&(i.tradeStats=r.codes[0].code,i.sector="Trade",r.codes[0].code.length<3&&(i.tradeStats="")),"04"==s&&(i.machStats=r.codes[0].code,i.sector="Machinery",r.codes[0].code.length<3&&(i.machStats="")),"05"==s&&(i.popStats=r.codes[0].code,i.sector="Population",r.codes[0].code.length<3&&(i.popStats="")),"06"==s&&(i.priceStats=r.codes[0].code,i.sector="Prices",r.codes[0].code.length<3&&(i.priceStats="")),"07"==s&&(i.valStats=r.codes[0].code,i.sector="Value added",r.codes[0].code.length<3&&(i.valStats="")),"08"==s&&(i.landStats=r.codes[0].code,i.sector="Land use",r.codes[0].code.length<3&&(i.landStats="")),"09"==s&&(i.empStats=r.codes[0].code,i.sector="Employment",r.codes[0].code.length<3&&(i.empStats="")),"10"==s&&(i.waterStats=r.codes[0].code,i.sector="Water",r.codes[0].code.length<3&&(i.waterStats="")),"11"==s&&(i.liveStats=r.codes[0].code,i.sector="Livestock",r.codes[0].code.length<3&&(i.liveStats="")),"12"==s&&(i.natStats=r.codes[0].code,i.sector="National account",r.codes[0].code.length<3&&(i.natStats="")),"13"==s&&(i.fishStats=r.codes[0].code,i.sector="Fishery",r.codes[0].code.length<3&&(i.fishStats=""))}return o.coverageTime&&(i.coverageTime={},this.copyDatesFromMeta(o.coverageTime,i.coverageTime,["from","to"])),o.coverageGeographic&&(i.coverageGeographic=this.codelistToCode(o.coverageGeographic)),this.copyVals(o,i,a),this.copyValsFromML(o,i,n,e),{content_Coverage:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["legalActsAgreements","institutionalMandateDataSharing"];return i.prototype.convertUIToMeta=function(t,e){if(!t.institutionalMandate)return null;var o={},i=t.institutionalMandate;return this.copyValsToML(i,o,a,e),{meInstitutionalMandate:o}},i.prototype.convertMetaToUi=function(t,e){var o={},i=t.meInstitutionalMandate;return this.copyValsFromML(i,o,a,e),{institutionalMandate:o}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=[],n=["dataCollection","samplingProcedure"],r=["pointOfContact","role"],s=["organization","organizationUnit","position","specify"],c=["phone","address","emailAddress"],l=["hoursOfService","contactInstruction"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.statisticalProcessing_primaryDataCollection)return null;var o=t.statisticalProcessing_primaryDataCollection,i={},p={},u={};return i.typeOfCollection=this.codeToCodelist(o.typeOfCollection,this.clists.faostatCollection.id,this.clists.faostatCollection.v),i.collectionPeriodicity=this.codeToCodelist(o.collectionPeriodicity,this.clists.faoPeriod.id,this.clists.faoPeriod.v),this.copyVals(o,i,a),this.copyValsToML(o,i,n,e),this.copyVals(o.dataCollector,p,r),this.copyValsToML(o.dataCollector,p,s,e),this.copyVals(o.dataCollector.contactInfo,u,c),this.copyValsToML(o.dataCollector.contactInfo,u,l,e),i.dataCollector=p,i.dataCollector.contactInfo=u,{meStatisticalProcessing:{seDataSource:{sePrimaryDataCollection:i}}}},i.prototype.convertMetaToUi=function(t,e){if(!(t&&t.meStatisticalProcessing&&t.meStatisticalProcessing.seDataSource&&t.meStatisticalProcessing.seDataSource.sePrimaryDataCollection))return null;var o=t.meStatisticalProcessing.seDataSource.sePrimaryDataCollection,i={},p={},u={};return i.typeOfCollection=this.codelistToCode(o.typeOfCollection),i.collectionPeriodicity=this.codelistToCode(o.collectionPeriodicity),this.copyVals(o,i,a),this.copyValsFromML(o,i,n,e),this.copyVals(o.dataCollector,p,r),this.copyValsFromML(o.dataCollector,p,s,e),this.copyVals(o.dataCollector.contactInfo,u,c),this.copyValsFromML(o.dataCollector.contactInfo,u,l,e),i.dataCollector=p,i.dataCollector.contactInfo=u,{statisticalProcessing_primaryDataCollection:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["organization","dataCollection","rawDataDescription"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.statisticalProcessing_secondaryDataCollection)return null;var o=t.statisticalProcessing_secondaryDataCollection,i={};return i.originOfCollectedData=this.codeToCodelist(o.originOfCollectedData,this.clists.faoStatOriginData.id,this.clists.faoStatOriginData.v),this.copyValsToML(o,i,a,e),{meStatisticalProcessing:{seDataSource:{seSecondaryDataCollection:i}}}},i.prototype.convertMetaToUi=function(t,e){if(!(t&&t.meStatisticalProcessing&&t.meStatisticalProcessing.seDataSource&&t.meStatisticalProcessing.seDataSource.seSecondaryDataCollection))return null;var o=t.meStatisticalProcessing.seDataSource.seSecondaryDataCollection,i={};return i.originOfCollectedData=this.codelistToCode(o.originOfCollectedData),this.copyValsFromML(o,i,a,e),{statisticalProcessing_secondaryDataCollection:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["aggregationFormula"],n=["missingData","weights","aggregationProcessing","dataAdjustmentDetails","indexType"],r=["basePeriod"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.statisticalProcessing_dataCompilation)return null;var o=t.statisticalProcessing_dataCompilation,i={};return i.dataAdjustment=this.codeToCodelist(o.dataAdjustment,this.clists.clAdjustment.id,this.clists.clAdjustment.v),this.copyVals(o,i,a,e),this.copyValsToML(o,i,n,e),this.copyDatesToMeta(o,i,r),{meStatisticalProcessing:{seDataCompilation:i}}},i.prototype.convertMetaToUi=function(t,e){if(!t||!t.meStatisticalProcessing||!t.meStatisticalProcessing.seDataCompilation)return null;var o=t.meStatisticalProcessing.seDataCompilation,i={};return i.dataAdjustment=this.codelistToCode(o.dataAdjustment),this.copyVals(o,i,a,e),this.copyValsFromML(o,i,n,e),this.copyDatesFromMeta(t,i.identification,r),{statisticalProcessing_dataCompilation:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["dataValidationIntermediate","dataValidationOutput","dataValidationSource"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.statisticalProcessing_dataValidation)return null;var o=t.statisticalProcessing_dataValidation,i={};return this.copyValsToML(o,i,a,e),{meStatisticalProcessing:{seDataValidation:i}}},i.prototype.convertMetaToUi=function(t,e){if(!t||!t.meStatisticalProcessing||!t.meStatisticalProcessing.seDataValidation)return null;var o=t.meStatisticalProcessing.seDataValidation,i={};return this.copyValsFromML(o,i,a,e),{statisticalProcessing_dataValidation:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["qualityManagement","qualityAssessment","qualityAssurance"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.dataQuality)return null;var o=t.dataQuality,i={};return this.copyValsToML(o,i,a,e),{meDataQuality:i}},i.prototype.convertMetaToUi=function(t,e){if(!t||!t.meDataQuality)return null;var o=t.meDataQuality,i={};return this.copyValsFromML(o,i,a,e),{dataQuality:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["uid","metadataStandardName","metadataStandardVersion","noDataValue"],n=["creationDate"],r=["title","languageDetails"];return i.prototype.convertUIToMeta=function(t,e){if(!t.identification)return null;var o={},i=t.identification;return o.language=this.codeToCodelist(i.language,this.clists.language.id,this.clists.language.v),o.characterSet=this.codeToCodelist(i.characterSet,this.clists.charset.id,this.clists.charset.v),o.metadataLanguage=this.codeToCodelist(i.metadataLanguage,this.clists.language.id,this.clists.language.v),this.copyDatesToMeta(i,o,n),this.copyVals(i,o,a),this.copyValsToML(i,o,r,e),o},i.prototype.convertMetaToUi=function(t,e){var o={};return o.identification={},o.identification.language=this.codelistToCode(t.language),o.identification.characterSet=this.codelistToCode(t.characterSet),o.identification.metadataLanguage=this.codelistToCode(t.metadataLanguage),this.copyVals(t,o.identification,a),this.copyDatesFromMeta(t,o.identification,n),this.copyValsFromML(t,o.identification,r,e),o},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["revisionPolicy","revisionPractice"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.dataQuality_dataRevision)return null;var o=t.dataQuality_dataRevision,i={};return this.copyValsToML(o,i,a,e),{meDataQuality:{seDataRevision:i}}},i.prototype.convertMetaToUi=function(t,e){if(!t||!t.meDataQuality||!t.meDataQuality.seDataRevision)return null;var o=t.meDataQuality.seDataRevision,i={};return this.copyValsFromML(o,i,a,e),{dataQuality_dataRevision:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["completenessPercentage"],n=["userNeeds","userSatisfaction","completeness"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.dataQuality_relevance)return null;var o=t.dataQuality_relevance,i={};return this.copyVals(o,i,a),this.copyValsToML(o,i,n,e),{meDataQuality:{seRelevance:i}}},i.prototype.convertMetaToUi=function(t,e){if(!t||!t.meDataQuality||!t.meDataQuality.seRelevance)return null;var o=t.meDataQuality.seRelevance,i={};return this.copyValsFromML(o,i,n,e),this.copyVals(o,i,a),{dataQuality_relevance:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["comparabilityGeographical","comparabilityTime","coherenceIntern"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.dataQuality_compatibilityCoherence)return null;var o=t.dataQuality_compatibilityCoherence,i={};return this.copyValsToML(o,i,a,e),{meDataQuality:{seComparability:i}}},i.prototype.convertMetaToUi=function(t,e){if(!t||!t.meDataQuality||!t.meDataQuality.seComparability)return null;var o=t.meDataQuality.seComparability,i={};return this.copyValsFromML(o,i,a,e),{dataQuality_compatibilityCoherence:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["timeliness","punctuality"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.dataQuality_timelinessAndPunctuality)return null;var o=t.dataQuality_timelinessAndPunctuality,i={};return this.copyValsToML(o,i,a,e),{meDataQuality:{seTimelinessPunctuality:i}}},i.prototype.convertMetaToUi=function(t,e){if(!t||!t.meDataQuality||!t.meDataQuality.seTimelinessPunctuality)return null;var o=t.meDataQuality.seTimelinessPunctuality,i={};return this.copyValsFromML(o,i,a,e),{dataQuality_timelinessAndPunctuality:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["metadataCompletenessRate"],n=["clarity"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.accessibility_clarity)return null;var o=t.accessibility_clarity,i={};return this.copyVals(o,i,a),this.copyValsToML(o,i,n,e),{meAccessibility:{seClarity:i}}},i.prototype.convertMetaToUi=function(t,e){if(!t||!t.meAccessibility||!t.meAccessibility.seClarity)return null;var o=t.meAccessibility.seClarity,i={};return this.copyVals(o,i,a),this.copyValsFromML(o,i,n,e),{accessibility_clarity:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["confidentialityPolicy","confidentialityDataTreatment"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.accessibility_confidentiality)return null;var o=t.accessibility_confidentiality,i={};return i.confidentialityStatus=this.codeToCodelist(o.confidentialityStatus,this.clists.confidentialityStatus.id,this.clists.confidentialityStatus.v),this.copyValsToML(o,i,a,e),{meAccessibility:{seConfidentiality:i}}},i.prototype.convertMetaToUi=function(t,e){if(!t||!t.meAccessibility||!t.meAccessibility.seConfidentiality)return null;var o=t.meAccessibility.seConfidentiality,i={};return i.confidentialityStatus=this.codelistToCode(o.confidentialityStatus),this.copyValsFromML(o,i,a,e),{accessibility_confidentiality:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["onlineResource"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.accessibility_dataDissemination_distribution)return null;var o=t.accessibility_dataDissemination_distribution,i={};if(o.disseminationFormat&&o.disseminationFormat.length>0){i.disseminationFormat=[];for(var n=0;n<o.disseminationFormat.length;n++)i.disseminationFormat.push(o.disseminationFormat[n])}return this.copyVals(o,i,a),{meAccessibility:{seDataDissemination:{seDistribution:i}}}},i.prototype.convertMetaToUi=function(t,e){if(!(t&&t.meAccessibility&&t.meAccessibility.seDataDissemination&&t.meAccessibility.seDataDissemination.seDistribution))return null;var o=t.meAccessibility.seDataDissemination.seDistribution,i={};if(o.disseminationFormat&&o.disseminationFormat.length>0){i.disseminationFormat=[];for(var n=0;n<o.disseminationFormat.length;n++)i.disseminationFormat.push(o.disseminationFormat[n])}return this.copyVals(o,i,a),{accessibility_dataDissemination_distribution:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["releaseCalendarAccess"],n=["releaseCalendar"],r=["from","to"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.accessibility_dataDissemination_releasePolicy)return null;
var o=t.accessibility_dataDissemination_releasePolicy,i={};return i.disseminationPeriodicity=this.codeToCodelist(o.disseminationPeriodicity,this.clists.faoPeriod.id,this.clists.faoPeriod.v),i.embargoTime={},this.copyDatesToMeta(o.embargoTime,i.embargoTime,r),this.copyVals(o,i,a),this.copyValsToML(o,i,n,e),{meAccessibility:{seDataDissemination:{seReleasePolicy:i}}}},i.prototype.convertMetaToUi=function(t,e){if(!(t&&t.meAccessibility&&t.meAccessibility.seDataDissemination&&t.meAccessibility.seDataDissemination.seReleasePolicy))return null;var o=t.meAccessibility.seDataDissemination.seReleasePolicy,i={};return i.disseminationPeriodicity=this.codelistToCode(o.disseminationPeriodicity),i.embargoTime={},this.copyDatesFromMeta(o.embargoTime,i.embargoTime,r),this.copyVals(o,i,a),this.copyValsFromML(o,i,n,e),{accessibility_dataDissemination_releasePolicy:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["maintenanceAgency"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.maintenance)return null;var o=t.maintenance,i={};return this.copyValsToML(o,i,a,e),{meMaintenance:i}},i.prototype.convertMetaToUi=function(t,e){if(!t||!t.meMaintenance)return null;var o=t.meMaintenance,i={};return this.copyValsFromML(o,i,a,e),{maintenance:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["metadataLastCertified","metadataLastPosted","metadataLastUpdate"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.maintenance_metadataMaintenance)return null;var o=t.maintenance_metadataMaintenance,i={};return this.copyDatesToMeta(o,i,a),{meMaintenance:{seMetadataMaintenance:i}}},i.prototype.convertMetaToUi=function(t,e){if(!t||!t.meMaintenance||!t.meMaintenance.seMetadataMaintenance)return null;var o=t.meMaintenance.seMetadataMaintenance,i={};return this.copyDatesFromMeta(o,i,a),{maintenance_metadataMaintenance:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2),o(9)],a=function(t,e){var o={},i=function(e){this.parent.constructor.call(this,e),t.extend(!0,this.config,o)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.parent=e.prototype;var a=["updateDate"];return i.prototype.convertUIToMeta=function(t,e){if(!t)return null;if(!t.maintenance_update)return null;var o=t.maintenance_update,i={};return i.updatePeriodicity=this.codeToCodelist(o.updatePeriodicity,this.clists.faoPeriod.id,this.clists.faoPeriod.v),this.copyDatesToMeta(o,i,a),{meMaintenance:{seUpdate:i}}},i.prototype.convertMetaToUi=function(t,e){if(!t||!t.meMaintenance||!t.meMaintenance.seUpdate)return null;var o=t.meMaintenance.seUpdate,i={};return i.updatePeriodicity=this.codelistToCode(o.updatePeriodicity),this.copyDatesFromMeta(o,i,a),{maintenance_update:i}},i}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i,a;i=[o(2)],a=function(t){function e(e){this.config={},t.extend(!0,this.config,o,e)}var o={},i={MANDATORY_MISSING:"mandatoryMissing",SECTION_MISSING:"sectionMissing"};return e.prototype.validateSection=function(t,e){var o=[];return"identification"==e&&(t.title&&""!=t.title||o.push({message:i.MANDATORY_MISSING,fieldId:"title"}),t.characterSet&&0!=t.characterSet.length||o.push({message:i.MANDATORY_MISSING,fieldId:"characterSet"}),t.metadataStandardName&&""!=t.metadataStandardName||o.push({message:i.MANDATORY_MISSING,fieldId:"metadataStandardName"})),"contacts"==e&&(t.contacts&&0!=t.contacts.length?(t.contacts[0].organization&&""!=t.contacts[0].organization||o.push({message:i.MANDATORY_MISSING,fieldId:"contacts.organization"}),t.contacts[0].contactInfo||o.push({message:i.MANDATORY_MISSING,fieldId:"contacts.contactInfo"}),!t.contacts[0].contactInfo||t.contacts[0].contactInfo.phone||t.contacts[0].contactInfo.address||t.contacts[0].contactInfo.emailAddress||o.push({message:i.MANDATORY_MISSING,fieldId:"contacts.contactInfo"})):o.push({message:i.SECTION_MISSING,sectionId:"contacts"})),o},e}.apply(e,i),!(void 0!==a&&(t.exports=a))},function(t,e,o){var i;i=function(){"use strict";return{}}.call(e,o,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,o){var i;i=function(){"use strict";return{LANG:"EN",LOCALE:"en_EN",METADATA_PATH:{schemaPath:"fx-MetaEditor/config/schemas/"},METADATA_SEC:[{id:"identification",text:"Identification",icon:"img/fenix-catalog-sprite-small.svg",state:{selected:!0}},{id:"contacts",text:"Contacts"},{id:"content",text:"Content",children:[{id:"content_ReferencePopulation",text:"Reference Population"},{id:"content_Coverage",text:"Coverage"}]},{id:"institutionalMandate",text:"Institutional Mandate"},{id:"statisticalProcessing",text:"Statistical Processing",state:{disabled:!0,opened:!0},children:[{id:"statisticalProcessing_primaryDataCollection",text:"Primary Data Collection"},{id:"statisticalProcessing_secondaryDataCollection",text:"Secondary Data Collection"},{id:"statisticalProcessing_dataCompilation",text:"Data Compilation"},{id:"statisticalProcessing_dataValidation",text:"Data Validation"}]},{id:"dataQuality",text:"Data Quality",children:[{id:"dataQuality_accuracy",text:"Accuracy"},{id:"dataQuality_dataRevision",text:"Data Revision"},{id:"dataQuality_relevance",text:"Relevance"},{id:"dataQuality_compatibilityCoherence",text:"Compatibility Coherence"},{id:"dataQuality_timelinessAndPunctuality",text:"Timeliness and Puctuality"}]},{id:"accessibility",text:"Accessibility",state:{disabled:!0,opened:!0},children:[{id:"accessibility_dataDissemination",text:"Data Dissemination",state:{disabled:!0,opened:!0},children:[{id:"accessibility_dataDissemination_distribution",text:"Distribution"},{id:"accessibility_dataDissemination_releasePolicy",text:"Release Policy"}]},{id:"accessibility_clarity",text:"Clarity"},{id:"accessibility_confidentiality",text:"Confidentiality"}]},{id:"maintenance",text:"Maintenance",children:[{id:"maintenance_update",text:"Update"},{id:"maintenance_metadataMaintenance",text:"Metadata Maintenance"}]}]}}.call(e,o,e,t),!(void 0!==i&&(t.exports=i))},,function(t,e){t.exports=a}])});
//# sourceMappingURL=fenix-ui-metadata-editor.min.js.map